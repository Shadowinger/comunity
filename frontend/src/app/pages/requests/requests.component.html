<div class="flex flex-1 h-full w-full overflow-hidden relative">
  <!-- Mobile filter toggle button -->
  <button 
    class="md:hidden absolute top-2 left-2 z-30 p-2 rounded-lg bg-discord-sidebar/90 text-discord-text hover:bg-discord-hover transition-colors shadow-lg"
    *ngIf="!showMobileSidebar"
    (click)="showMobileSidebar = true">
    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
      <path d="M3 18h18v-2H3v2zM3 13h18v-2H3v2zM3 6v2h18V6H3z"/>
    </svg>
  </button>

  <!-- Sidebar with filters -->
  <div class="bg-discord-sidebar flex flex-col border-r border-discord-dark flex-shrink-0 absolute md:relative z-20 transition-transform duration-300 w-full md:w-60 h-full"
       [class.translate-x-0]="showMobileSidebar"
       [class.-translate-x-full]="!showMobileSidebar"
       [class.md:translate-x-0]="true">
    <!-- Header -->
    <div class="h-12 px-4 flex items-center justify-between border-b border-discord-dark shadow-sm flex-shrink-0">
      <div class="flex items-center gap-2 text-white font-semibold">
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
        </svg>
        Filtry
      </div>
      <!-- Close button for mobile -->
      <button 
        class="md:hidden p-2 rounded hover:bg-discord-hover text-discord-muted"
        (click)="showMobileSidebar = false">
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
        </svg>
      </button>
    </div>

    <!-- Filters -->
    <div class="p-4 space-y-4 flex-shrink-0">
      <div>
        <label class="label">Kategorie</label>
        <select class="input text-sm" [(ngModel)]="filterCategory" (change)="showMobileSidebar = false">
          <option value="">VÅ¡echny</option>
          <option value="moving">ğŸšš PÅ™estÄ›hovÃ¡nÃ­</option>
          <option value="tutoring">ğŸ“š DouÄovÃ¡nÃ­</option>
          <option value="repair">ğŸ”§ Opravy</option>
          <option value="other">ğŸ“‹ OstatnÃ­</option>
        </select>
      </div>
      <div>
        <label class="label">Status</label>
        <select class="input text-sm" [(ngModel)]="filterStatus" (change)="showMobileSidebar = false">
          <option value="">VÅ¡echny</option>
          <option value="open">ğŸŸ¢ OtevÅ™enÃ©</option>
          <option value="in_progress">ğŸŸ¡ ProbÃ­hÃ¡</option>
          <option value="closed">âš« UzavÅ™enÃ©</option>
        </select>
      </div>
    </div>

    <!-- Quick stats -->
    <div class="mt-auto p-4 border-t border-discord-dark flex-shrink-0">
      <div class="text-xs text-discord-muted space-y-1">
        <p>Celkem: {{ requests.length }} Å¾Ã¡dostÃ­</p>
        <p>Zobrazeno: {{ filteredRequests.length }}</p>
      </div>
    </div>
  </div>

  <!-- Main content -->
  <div class="flex-1 flex flex-col bg-discord-channel min-w-0">
    <!-- Header -->
    <div class="h-12 px-3 sm:px-4 flex items-center border-b border-discord-dark shadow-sm flex-shrink-0">
      <div class="flex items-center gap-2 ml-10 md:ml-0">
        <span class="text-discord-muted">#</span>
        <span class="font-semibold text-white text-sm sm:text-base">vÅ¡echny-Å¾Ã¡dosti</span>
      </div>
      <div class="ml-auto">
        <a routerLink="/create-request" class="btn btn-primary text-xs sm:text-sm px-2 sm:px-3 py-1.5">
          <svg class="w-4 h-4 sm:mr-1" fill="currentColor" viewBox="0 0 24 24">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
          </svg>
          <span class="hidden sm:inline">NovÃ¡ Å¾Ã¡dost</span>
        </a>
      </div>
    </div>

    <!-- Content -->
    <div class="flex-1 overflow-y-auto p-3 sm:p-4 w-full">
      <!-- Loading -->
      <div class="flex items-center gap-2 text-discord-muted" *ngIf="loading">
        <div class="animate-spin w-4 h-4 border-2 border-discord-blurple border-t-transparent rounded-full"></div>
        NaÄÃ­tÃ¡nÃ­ Å¾Ã¡dostÃ­...
      </div>

      <!-- Requests grid -->
      <div class="grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 w-full" *ngIf="!loading">
        <app-request-card 
          *ngFor="let request of filteredRequests" 
          [request]="request" 
          (react)="onReact($event)"
          (delete)="onDelete($event)">
        </app-request-card>
      </div>

      <!-- Empty state -->
      <div class="flex flex-col items-center justify-center py-8 sm:py-16 px-4" *ngIf="!loading && filteredRequests.length === 0">
        <svg class="w-12 h-12 sm:w-16 sm:h-16 text-discord-muted mb-3 sm:mb-4" fill="currentColor" viewBox="0 0 24 24">
          <path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"/>
        </svg>
        <h3 class="text-base sm:text-lg font-semibold text-discord-text mb-2 text-center">Å½Ã¡dnÃ© Å¾Ã¡dosti nenalezeny</h3>
        <p class="text-discord-muted text-xs sm:text-sm mb-4 text-center">Zkuste zmÄ›nit filtry nebo vytvoÅ™te novou Å¾Ã¡dost</p>
        <a routerLink="/create-request" class="btn btn-primary">VytvoÅ™it Å¾Ã¡dost</a>
      </div>
    </div>
  </div>
</div>
